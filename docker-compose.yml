version: '3'
services:
  directus:
    image: directus/directus:latest
    ports:
      - 8055:8055
    environment:
      # Security Keys
      KEY: '2gIbmAbZAaAbZWHFiCTG8QGjrYoexwdVJN0EdPepFVo='
      SECRET: 'bPC7dtaGCVWG9bmuJpju2O+um67ZFcXtzFkJf9BsUE8='

      # Admin Account
      ADMIN_EMAIL: 'pkasemsripitak@gmail.com'
      ADMIN_PASSWORD: 'PKadmin!101'

      # Supabase Database Connection
      DB_CLIENT: 'pg'
      DB_HOST: 'aws-1-us-east-2.pooler.supabase.com'
      DB_PORT: '5432'
      DB_DATABASE: 'postgres'
      DB_USER: 'postgres.mipgedcytuqbdmdppdzm'
      DB_PASSWORD: 'hJnXIDMKcOZMSGnT'
      DB_SSL: '{"rejectUnauthorized":false}'

      # Public URL (change in production)
      PUBLIC_URL: 'http://localhost:8055'

      # CORS (adjust for production)
      CORS_ENABLED: 'true'
      CORS_ORIGIN: 'http://localhost:5173,http://localhost:8055'

    restart: unless-stopped
