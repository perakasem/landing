# Directus Configuration
# This file configures Directus CMS for managing blog content
# Place this in your Directus installation root or use it as reference

# Database Connection (Supabase)
# Set these in Directus environment variables:
# DB_CLIENT=postgres
# DB_HOST=db.your-project.supabase.co
# DB_PORT=5432
# DB_DATABASE=postgres
# DB_USER=postgres
# DB_PASSWORD=your-supabase-password
# DB_SSL=true

# Directus Environment Variables (.env)
# Copy these to your Directus .env file

# General
KEY=generate-random-key-here  # Generate with: openssl rand -base64 32
SECRET=generate-random-secret-here  # Generate with: openssl rand -base64 32

# Database (Supabase)
DB_CLIENT=postgres
DB_HOST=db.your-project.supabase.co
DB_PORT=5432
DB_DATABASE=postgres
DB_USER=postgres
DB_PASSWORD=your-supabase-password
DB_SSL__NO_VERIFY=true

# Admin Account
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=secure-password-here

# Security
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=7d
REFRESH_TOKEN_COOKIE_SECURE=true
REFRESH_TOKEN_COOKIE_SAME_SITE=lax

# CORS (for your SvelteKit app)
CORS_ENABLED=true
CORS_ORIGIN=https://perakasem.com,http://localhost:5173
CORS_METHODS=GET,POST,PATCH,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# File Storage (Supabase Storage)
STORAGE_LOCATIONS=supabase
STORAGE_SUPABASE_DRIVER=supabase
STORAGE_SUPABASE_PROJECT_ID=your-project-id
STORAGE_SUPABASE_KEY=your-service-role-key
STORAGE_SUPABASE_BUCKET=directus-files

# Cache
CACHE_ENABLED=true
CACHE_STORE=memory
CACHE_TTL=5m

# Rate Limiting
RATE_LIMITER_ENABLED=true
RATE_LIMITER_POINTS=25
RATE_LIMITER_DURATION=1

# Assets
ASSETS_CACHE_TTL=30d
ASSETS_TRANSFORM_MAX_CONCURRENT=4

# Extensions
EXTENSIONS_PATH=./extensions

# Webhooks (optional - for cache invalidation)
# WEBHOOKS_ALLOW_CUSTOM_CODE=true
